<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codex Environment - Meta Development Platform</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="app">
        <header class="codex-header">
            <div class="header-container">
                <h1>Codex Environment</h1>
                <p class="subtitle">Meta-Development Platform for Research-Driven UI Framework</p>
                <nav class="header-nav">
                    <a href="https://github.com/mc-adrian-lei/mc-adrian-lei-github.io" target="_blank">Main Research Repo</a>
                    <a href="https://mc-adrian-lei.github.io/mc-adrian-lei-github.io/" target="_blank">Live Deployment</a>
                    <a href="https://chatgpt.com/codex" target="_blank">Codex Interface</a>
                </nav>
            </div>
        </header>
        <div class="codex-container">
            <!-- Component Library Sidebar -->
            <aside id="component-library" class="sidebar">
                <h2>Component Library</h2>
                <div class="library-content">
                    <div class="component-section">
                        <h3>UI Components</h3>
                        <ul id="component-list">
                            <li>Loading components...</li>
                        </ul>
                    </div>
                    <div class="component-section">
                        <h3>Templates</h3>
                        <ul id="template-list">
                            <li>Loading templates...</li>
                        </ul>
                    </div>
                </div>
            </aside>
            <!-- Main Work Area -->
            <main id="work-area" class="main-content">
                <section class="welcome-section">
                    <h2>Welcome to Codex Environment</h2>
                    <p>This meta-development platform provides modular workflow automation for research-driven UI framework development.</p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>Component Library</h3>
                            <p>Browse and manage reusable UI components</p>
                        </div>
                        <div class="feature-card">
                            <h3>GitHub Automation</h3>
                            <p>Streamlined PR and branch management</p>
                        </div>
                        <div class="feature-card">
                            <h3>Template System</h3>
                            <p>Template-driven prompts and scaffolding</p>
                        </div>
                        <div class="feature-card">
                            <h3>Timeline Panel</h3>
                            <p>Track development history and changes</p>
                        </div>
                    </div>
                </section>

                <!-- Phase 3 Research Text Input Panel -->
                <section class="input-panel">
                    <h2>Research Text Entry</h2>
                    <p>Submit research notes and observations for Phase 3 data collection</p>
                    <div class="input-container">
                        <label for="research-input">Enter Research Text:</label>
                        <textarea 
                            id="research-input" 
                            class="research-text-input" 
                            placeholder="Enter your research notes here..."
                            rows="6"
                            aria-label="Research text input field"
                        ></textarea>
                        <div class="button-group">
                            <button 
                                id="submit-research-btn" 
                                class="submit-btn"
                                onclick="handleResearchSubmit()"
                            >
                                Submit Research Text
                            </button>
                            <button 
                                id="clear-input-btn" 
                                class="clear-btn"
                                onclick="clearResearchInput()"
                            >
                                Clear
                            </button>
                        </div>
                        <div id="submission-status" class="status-message" aria-live="polite"></div>
                    </div>
                </section>

                <section class="links-section">
                    <h2>Project Links</h2>
                    <div class="link-cards">
                        <a class="link-card" href="https://github.com/mc-adrian-lei/mc-adrian-lei-github.io" target="_blank">
                            <h3>Main Research Repository</h3>
                            <p>mc-adrian-lei-github.io</p>
                        </a>
                        <a class="link-card" href="https://mc-adrian-lei.github.io/mc-adrian-lei-github.io/" target="_blank">
                            <h3>Live Deployment</h3>
                            <p>32 Aspect Dev Self Clock</p>
                        </a>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        // Placeholder JavaScript handlers for Phase 3 research text entry
        // These will be connected to API/webhook endpoints in future iterations
        
        function handleResearchSubmit() {
            const inputField = document.getElementById('research-input');
            const statusDiv = document.getElementById('submission-status');
            const textContent = inputField.value.trim();
            
            if (!textContent) {
                statusDiv.textContent = 'Please enter research text before submitting.';
                statusDiv.className = 'status-message error';
                return;
            }
            
            // Placeholder for future API/webhook integration
            console.log('Research text submitted:', textContent);
            
            // TODO: Implement API call to backend webhook
            // Example: fetch('/api/research-submit', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify({ text: textContent, timestamp: new Date().toISOString() })
            // });
            
            statusDiv.textContent = 'Research text queued for submission (API integration pending).';
            statusDiv.className = 'status-message success';
            
            // Clear input after successful submission
            setTimeout(() => {
                inputField.value = '';
                statusDiv.textContent = '';
            }, 3000);
        }
        
        function clearResearchInput() {
            const inputField = document.getElementById('research-input');
            const statusDiv = document.getElementById('submission-status');
            inputField.value = '';
            statusDiv.textContent = '';
            statusDiv.className = 'status-message';
        }
        
        // Allow Enter key submission (with Ctrl/Cmd modifier to prevent accidental submissions)
        document.addEventListener('DOMContentLoaded', function() {
            const inputField = document.getElementById('research-input');
            inputField.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                    e.preventDefault();
                    handleResearchSubmit();
                }
            });
        });
    </script>
</body>
</html>
